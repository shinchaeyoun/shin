<!--@layout(/layout/basic/main.html)-->
<style>
    #slide.slide { position: relative; width: 100%; height: 100vh;}

    #slide .prev,
    #slide .next { position: absolute; top: 0; width: 20%; height: 100%; display: block;  }
    #slide .prev { left: 0;  cursor: url(/AURA/main/arrow_l.935a967c.cur), auto; }
    #slide .next { right: 0; cursor: url(/AURA/main/arrow_r.1db549d7.cur), auto; }
    #slide .empty { position: absolute; top:0; left:0; bottom: 0; right: 0; width: 100%; height:100%; z-index: -1;  }
    
    
    #slide .slide-container { position: absolute; top: 0; left:0; display: flex; width: 300%; height: 100%;  }

    #slide .slide-content { position:relative; width: 100%; height: 100%; }
    #slide .slick-slide > div { height: 100%; }
    #slide .slick-slider .slick-track, 
    #slide .slick-slider .slick-list { height: 100%; }
    #slide .slick-slide { margin :0 !important; }
    #slide .img-wrap { width: 100%; height: 100%; background-size: cover; background-position: center; background-repeat: no-repeat; }
    #slide .img-wrap img {display:none; width: 100%; height: 100%; object-fit: cover;}

    #slide .skin .img-wrap { background-image: url(/AURA/main/skin.jpg); }
    #slide .serum .img-wrap { background-image: url(/AURA/main/rebalancing_serum.jpg);  }
    #slide .cream .img-wrap { background-image: url(/AURA/main/cream.jpg); }

    
    #slide .text-wrap { position: absolute; top: 50%; left: 50%; text-align: center; color: #fff; transform: translate(-50%, -50%); }

    #slide .text-wrap .kr_tit { font-size: 20px; font-family: Pretendard, -apple-system, BlinkMacSystemFont, system-ui, Roboto, 'Helvetica Neue', 'Segoe UI', 'Apple SD Gothic Neo', 'Noto Sans KR', 'Malgun Gothic', sans-serif; opacity: 0; transform: translateY(20px); transition: .5s .3s; }
    #slide .slick-active .text-wrap .kr_tit { opacity: 1; transform:translateY(0); }

    #slide .text-wrap .eng_tit { font-size: 60px; font-family: 'Tinos', serif; font-style: italic; font-weight:bold; opacity: 0; transform: translateY(20px); transition: .5s .5s }
    #slide .slick-active .text-wrap .eng_tit { opacity: 1; transform:translateY(0); }

    #slide .text-wrap .sub { margin-top: 20px; font-size: 15px; font-family: 'Ibarra Real Nova', serif;  opacity: 0; transform: translateY(20px); transition: .5s .7s; }
    #slide .slick-active .text-wrap .sub { opacity: 1; transform:translateY(0); }
    #slide .text-wrap .sub span { display: block; }

    #slide .go_page { position: absolute; top: 0; bottom: 0; left:0; right: 0; }
    #slide .go_page a { display:block; width:100%; height: 100%; }
    #slide .go_page.grab {
        cursor: move;
        cursor: grabbing;
        cursor: -webkit-grabbing;
        cursor: -moz-grabbing;
    }

    #slide .slick-dots { position: absolute; bottom: 20px; display: flex; justify-content: center; align-items: center; width: 100%; }
    #slide .slick-dots li { margin: 0 3px; }
    #slide .slick-dots li button { width: 10px; height: 10px; font-size:0; border:none; border-radius: 50%; }
    #slide .slick-active button { background-color: #ff5722; border:none; } 
    
    
   @media screen and (max-width: 768px) {
    	#slide .skin .img-wrap { background-image: url(/AURA/main/mo_skin-01.jpg); }
        #slide .serum .img-wrap { background-image: url(/AURA/main/mo_rebalancing_serum-01.jpg);  }
        #slide .cream .img-wrap { background-image: url(/AURA/main/mo_cream-01.jpg); }
       
       #slide .text-wrap { width: 90%; }

       div {
        background-position: center; background-repeat: no-repeat; background-size: cover;
        
       }
    }
    
</style>


<!--슬라이드-->
    <div class="slide" id="slide" data-slide-duration="600">
        <div class="slide-container">
            <div class="slide-content skin">
                <div class="img-wrap">
                    <img src="/AURA/main/skin.jpg" alt="">
                </div>

                <div class="text-wrap">
                    <div class="kr_tit">하이드로 클리어 스킨</div>
                    <div class="eng_tit">hydro clear skin</div>

                    <div class="sub">
                        <span>peroge keeps thinking about these problems and</span>
                        <span>create solutions for them to restore the natural luster</span>
                        <span>and firmness of the skin</span>
                    </div>
                </div>

                <div  class="go_page">
                    <a href="/product/detail.html?product_no=18"></a>    
                </div>
            </div>

            <div class="slide-content serum">
                <div class="img-wrap">
                    <img src="/AURA/main/rebalancing_serum.jpg" alt="">
                </div>

                <div class="text-wrap">
                    <div class="kr_tit">리밸런싱 세럼</div>
                    <div class="eng_tit">rebalancing serum</div>

                    <div class="sub">
                        <span>Our ultimate goal is to find the cause of the skin problem</span>
                        <span>to help the skin improve and enhance it's natural beauty.</span>
                    </div>
                </div>

                <div  class="go_page">
                    <a href="/product/detail.html?product_no=15"></a>    
                </div>
            </div>

            <div class="slide-content cream">
                <div class="img-wrap">
                    <img src="/AURA/main/cream.jpg" alt="">
                </div>

                <div class="text-wrap">
                    <div class="kr_tit">센시티브 리페어 크림</div>
                    <div class="eng_tit">sensitive repair cream</div>

                    <div class="sub">
                        <span>We believe that the power of water and trees</span>
                        <span>can help to have beautiful skin.</span>
                    </div>
                </div>

                <div  class="go_page">
                    <a href="/product/detail.html?product_no=19"></a>    
                </div>
            </div>
        </div><!--slide container end-->

        <div class="prev"></div>
        <div class="next"></div>
        
        <div class="empty"></div>
    </div>
    <!-- slide end-->

<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
<script>
	const $container = $('.slide .slide-container');
	const $btnPrev = $('.slide .prev');
	const $btnNext = $('.slide .next');

	let intervalKey = null;

	let nowIdx = 0;

    // 첫 화면 텍스트 애니메이션
    $('.slide-content').eq(0).addClass('slick-active').siblings().removeClass('slick-active');

    // 이전 함수
    function prev (){
        if(nowIdx > 0){
                 nowIdx--;
            } else {
                 nowIdx = 2;
            }

        $('.slide-content').eq(0).addClass('slick-active').siblings().removeClass('slick-active');
        
		//컨테이너 이동
		$container.stop().animate({ left : 0 },function(){
            $('.slide .slide-container .slide-content').last().prependTo($container);
            $container.css({ left: -100+"%" });
		});
    };
    
    // 다음 함수
    function next (){
        if(nowIdx<2){
                nowIdx++;
            } else {
                nowIdx = 0;
            }

        $('.slide-content').eq(1).addClass('slick-active').siblings().removeClass('slick-active');

        $container.stop().animate({
            left :  - 100 + '%'
                },function(){
                    $('.slide .slide-container .slide-content').first().appendTo($container);
                    $container.css({
                        left: 0
                    })
        });
    };
    
	//이전버튼에 대한 클릭이벤트 구문
	$btnPrev.click(function(e){
		e.preventDefault();
		prev();
	});

	//다음버튼에 대한 클릭이벤트 구문
	$btnNext.click (function(e){
		e.preventDefault();
		next();
	});
    
    
    var curDown = false,
          curYPos = 0,
          curXPos = 0;
  
      /*$(window).mousemove(function(m){
        if(curDown){
            //console.log('mousemove curDown')
          window.scrollBy(curXPos - m.pageX, curYPos - m.pageY)
        }
      });

      $(window).mousedown(function(m){
        curYPos = m.pageY;
        curXPos = m.pageX;
        curDown = true;
          console.log('curYPos',curYPos,'curXPos',curXPos)
      });

      $(window).mouseup(function(){
        curDown = false;
      });*/

    $('.slide-container').mousedown(function(){
        startX = $('.slide-container').offset().left;
        startY = event.screenY;
        //mouseDownY = $('.slide-container').event.pageY;
        
        //console.log('startY',startY)
    });
    
    $('.slide-container').draggable({
        axis: "x",
        //containment:'parent',
        stop:function(){
            let finish = $('.slide-container').offset().left;
            let finishY = event.pageY;
            
            if ( startX < finish ) {
                prev();
            } else {
            	next();
            } // if end
            
            
            //console.log('start Y',startY,'finishY',finishY);

            if ( startY > finishY ) {
                let scrollVal = startY - finishY;
                //console.log('scrollVal',scrollVal)
                
            } // if end
            
        } //stop end
    });
   
    setInterval(next, 6000);


    
</script>