<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(function(){
            

            setInterval(() => {
                let dateString = null
                let newDate = new Date ();

                dateString += ('0' + newDate.getHours()).slice(-2) + ':';
                dateString += ('0' + newDate.getMinutes()).slice(-2) + ":";
                dateString += ("0" + newDate.getSeconds()).slice(-2);

                $('#date').text(dateString);
            }, 1000);
        });

        //출발시간 계산
        var dateObj = new Date(),
            yearObj = dateObj.getFullYear(),
            monthObj = new String(dateObj.getMonth()+1), 
            dayObj = new String(dateObj.getDate()),	
            day = new String(dateObj.getDay()),
            dayTxt = Number(day),
            dateTxt = Number(dayObj),
            hoursObj = new String(dateObj.getHours()),
            minutesObj = new String(dateObj.getMinutes());

        // 기본 : hoursObj>=0 && hoursObj<18 && dayTxt !== 6 
        // 공휴일 있을 경우  hoursObj>=0 && hoursObj<18 && dayTxt !== 6 && dateTxt !== 날짜
        if(hoursObj>=0 && hoursObj<18 && dayTxt < 6){
            const countDownTimer = function (id, date) { 
                var _vDate = new Date(date); // 전달 받은 일자 
                var _second = 1000; 
                var _minute = _second * 60; 
                var _hour = _minute * 60; 
                var _day = _hour * 24; 
                var timer; 
                function showRemaining() { 
                    var now = new Date(); 
                    var distDt = _vDate - now; 
                    if (distDt < 0) { 
                        clearInterval(timer);  
                        return; 
                    } 
                    var days = Math.floor(distDt / _day); 
                    var hours = Math.floor((distDt % _day) / _hour); 
                    var minutes = Math.floor((distDt % _hour) / _minute); 
                    var seconds = Math.floor((distDt % _minute) / _second); 
                    // 한자리수일 경우 0을 채워준다. 
                    if(new String(hours).length == 1){ 
                    hours = "0" + hours; 
                    } 
                    if(new String(minutes).length == 1){ 
                    minutes = "0" + minutes; 
                    } 
                    if(new String(seconds).length == 1){ 
                    seconds = "0" + seconds; 
                    } 
                    //document.getElementById(id).textContent = date.toLocaleString() + "까지 : "; 
                    //document.getElementById(id).textContent = days + '일 '; 
                    document.getElementById(id).textContent = hours + ' : '; 
                    document.getElementById(id).textContent += minutes + ' : '; 
                    document.getElementById(id).textContent += seconds ; 
                    
                } 
                timer = setInterval(showRemaining, 1000); 
            }

            dateObj.setDate(dateObj.getDate() + 1); 
            countDownTimer('deltimer',yearObj+"/"+monthObj+"/"+dayObj+" 18:00:00"); // 2024년 4월 1일까지, 시간을 표시하려면 01:00 AM과 같은 형식을 사용한다. 
            console.log(deltimer)
            
        }else{
            $(".deltimer-p").hide();
        }


        // 21-10-14 웹앤모바일 crossTarget스크립트 삽입
        ex2cts.push('track', 'product');
        // 21-10-14 웹앤모바일 crossTarget스크립트 삽입
    </script>
</head>
<body>
    <div id="date">
        hi
    </div>
</body>

</html>